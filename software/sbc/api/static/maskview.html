<!DOCTYPE html>
<html>
<head>
	<title>View current mask</title>
	<style>
		html, body {
			margin: 0;
			padding: 0;
			width: 100%;
			height: 100%;
		}

		body {
			display: flex;
			align-items: center;
			justify-content: center;
			background-color: #000000;
			overflow: hidden;
		}

		#image {
			max-width: 100vw;
			max-height: 100vh;
			width: auto;
			height: auto;
			object-fit: contain; 
			display: block;
		}
	</style>
</head>
<body>
	<img id="image" src="/mask/realtime" alt="Current mask">

	<script>
		const sock = new WebSocket(`ws://${location.host}/mask/changed`);

		sock.addEventListener("message", () => {
			const img = document.getElementById("image");
			img.src = `/mask?timestamp=${Date.now()}`;
		});
	</script>
</body>
</html>
